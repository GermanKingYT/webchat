{% extends 'layout.html' %}
{% block content %}
<div id="error-dialog" title="Connection error!" hidden="hidden">
<p style="color:#000000">A connection error occured, please reconnect!</p>
</div>

<div class="chat-window" id="chat">
</div>
{% if errors %}

<div id="errors">
    {% for err in errors[:-1] %}
    <div class="alert alert-error">{{ err }}</div>
    {% endfor %}
    <div class="alert alert-error">{{ errors[-1] }}</div>
</div>
{% endif %}

<div class="well">
<form method="POST" style="margin: 0px">
    <label for="text">{{ nick }}:</label> {{ form.text(tabindex=1,
        style="width:100%") }}
    {{ form.send(class="btn btn-primary", tabindex=2) }}

    {{ form.join_rooms.label }}{{ form.join_rooms(tabindex=3,
        style="width:100%") }}
    {{ form.join(tabindex=4) }}
    {{ form.rooms }}

    <br />
    <br />
    {{ form.quit(class="btn btn-danger", tabindex=5) }}
</form>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"
    type="text/javascript"></script>

<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"
    type="text/javascript"></script>

<script type="text/javascript" src="{{ url_for('static', 
    filename='EventSource.js') }}"></script>

<script type=text/javascript>
  $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
  users = JSON.parse('{{ users|safe }}');
</script>

<script type="text/javascript" src="{{ url_for('static', 
    filename='chat.js') }}"></script>

<script type="text/javascript" src="{{ url_for('static',
    filename='notificon.min.js') }}"></script>

<script type="text/javascript" src="{{ url_for('static',
    filename='bootstrap/js/bootstrap.min.js') }}"></script>
{% endblock %}
